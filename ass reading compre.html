<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Assessment</title>

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="quiz.css">
    <link rel="stylesheet" href="home.css">

</head>
<body>


<!-- start Quiz button -->
<div class="start_btn"><button>Start Quiz</button></div>

<!-- Info Box -->
<div class="info_box">
    <div class="info-title"><span>Some rules of this Quizlet</span></div>
    <div class="info-list">
        <div class="info">Once you select your answer, it can't be undone. </div>
        <div class="info"></div>
        <div ></div>
        <div> </div>
        <div> </div> 
    </div>
    <div class="buttons">
        <button class="quit">Exit Quiz</button>
        <button class="restart">Continue</button>
       
    </div>
</div>

<!-- Quiz Box -->
<div class="quiz_box">
    <header>
        <div class="title">Reading Comprehension</div>
        <div class="timer">
            <div class="time_left_txt">Time Left</div>
            <div class="timer_sec">35</div>
        </div>
        
    </header>
    <section>
        <div class="que_text">
            <!-- Here I've inserted question from JavaScript -->
        </div>
        <div class="option_list">
            <!-- Here I've inserted options from JavaScript -->
        </div>
    </section>

    <!-- footer of Quiz Box -->
    <footer>
        <div class="total_que">
            <!-- Here I've inserted Question Count Number from JavaScript -->
        </div>
        <button class="next_btn">Next</button>
    </footer>
</div>

<!-- Result Box -->
<div class="result_box">
    <div class="icon">
        <i class="fas fa-crown"></i>
    </div>
    <div class="complete_text">You've completed the Quiz!</div>
    <div class="score_text">
        <!-- Here I've inserted Score Result from JavaScript -->
    </div>
    <div class="buttons">
        <button class="restart">Replay</button>
        <button class="quit">Quit</button>
       
    </div>
    <a class="bmenu" href="assessment.html" >Menu </a>
</div>

<!-- Inside this JavaScript file I've inserted Questions and Options only -->
<script>

// creating an array and passing the number, questions, options, and answers
let questions = [
{
numb: 1,
question: "According to the passage, why did James Russell invent the CD?",
answer: "He wanted a purer, more durable sound than he could get from vinyl records.s",
options: [
     "He was tired of turning over his records to hear both sides.",
     "He wanted to record more music on a new format.",
     "He wanted a purer, more durable sound than he could get from vinyl records.",
     "He was interested in getting patents.",
]
},
{
numb: 2,
question: "What would happen if the detector on a CD player malfunctioned?",
answer: "The information read by the laser would not be converted into music.",
options: [
     "The information read by the laser would not be converted into music.",
     "The spiral track would not be read properly",
     "The pits and land would look like one unit.",
     "The music would play backwards.",
]
},
{
numb: 3,
question: "Paragraph 3, lines 14–21, explains all of the following EXCEPT",
answer: "why semiconductor lasers were invented.",
options: [
         "how the information on a CD is read.",
         "why semiconductor lasers were invented.",
         " where information is stored on a CD.",
         " what pits and bumps are.",
]
},
{
numb: 4,
question: "According to the current state of modeling industry, the author believes that",
answer: "today’s fashion models are not as perfect looking as were the supermodels.",
options: [
         "today’s fashion models are not as perfect looking as were the supermodels.",
         "people still respond to perfection in advertising.",
         "today’s fashion models are thinner than those in the past.",
         "to be a model, one must be taller than average.",
]
},
{
numb: 5,
question: "  The phrase, “great-looking” was where their resumes began and ended, is",
answer: "meant to be taken figuratively",
options: [
         "a description of the models’ work experience",
         "meant to be taken literally",
         "meant to be taken figuratively",
         "a truthful statement",
]
},
{
numb: 6,
question: " Waxing rhapsodic (line 28) most nearly means",
answer: "becoming enthusiastic",
options: [
         "burning a candle for",
         "becoming musical",
         "becoming enthusiastic",
         "orchestrating a positive statement",
]
},
{
numb: 7,
question: "All of the following are probably part of the collection of the Computer Museum of America EXCEPT",
answer: "kitchen scales",
options: [
         " operation manuals for calculators",
         " card punch machines",
         " old computers",
         "kitchen scales",
]
},
{
numb: 8,
question: "The author used the words sneered at to show",
answer: "the negative reaction to the comptometer.",
options: [
         " how fast accountants and bookkeepers could add",
         " a negative image of accountants",
         " the negative reaction to the comptometer",
         "the precursor of the comptometer operator",
]
},
{
numb: 9,
question: "What term paper topic could probably be researched at the Computer Museum of America?",
answer: "IBM’s contribution to the development of the modern computer",
options: [
         "Alexander Graham Bell’s contributions to American society",
         "IBM’s contribution to the development of the modern computer",
         "more than just paintings: the museums of California",
         "the rise and fall of the comptometer operator",
]
},
{
numb: 10,
question: "The statement that people went to marketplaces to be part of the human drama suggests that people",
answer: "like to be in community, interacting with one another",
options: [
         "prefer to shop anonymously.",
         "like to act on stage rather than shop.",
         " seem to be more emotional in groups.",
         " like to be in community, interacting with one another",
]
},
// you can uncomment the below codes and make duplicate as more as you want to add question
// but remember you need to give the numb value serialize like 1,2,3,5,6,7,8,9.....

//   {
//   numb: 6,
//   question: "Your Question is Here",
//   answer: "Correct answer of the question is here",
//   options: [
//     "Option 1",
//     "option 2",
//     "option 3",
//     "option 4"
//   ]
// },
];


</script>

<!-- Inside this JavaScript file I've coded all Quiz Codes -->

</section>

<script>

//selecting all required elements
const start_btn = document.querySelector(".start_btn button");
const info_box = document.querySelector(".info_box");
const exit_btn = info_box.querySelector(".buttons .quit");
const continue_btn = info_box.querySelector(".buttons .restart");
const quiz_box = document.querySelector(".quiz_box");
const result_box = document.querySelector(".result_box");
const option_list = document.querySelector(".option_list");
const time_line = document.querySelector("header .time_line");
const timeText = document.querySelector(".timer .time_left_txt");
const timeCount = document.querySelector(".timer .timer_sec");

// if startQuiz button clicked
start_btn.onclick = ()=>{
info_box.classList.add("activeInfo"); //show info box
}

// if exitQuiz button clicked
exit_btn.onclick = ()=>{
info_box.classList.remove("activeInfo"); //hide info box
}

// if continueQuiz button clicked
continue_btn.onclick = ()=>{
info_box.classList.remove("activeInfo"); //hide info box
quiz_box.classList.add("activeQuiz"); //show quiz box
showQuetions(0); //calling showQestions function
queCounter(1); //passing 1 parameter to queCounter
startTimer(35); //calling startTimer function
startTimerLine(0); //calling startTimerLine function
}

let timeValue =  35;
let que_count = 0;
let que_numb = 1;
let userScore = 0;
let counter;
let counterLine;
let widthValue = 0;

const restart_quiz = result_box.querySelector(".buttons .restart");
const quit_quiz = result_box.querySelector(".buttons .quit");

// if restartQuiz button clicked
restart_quiz.onclick = ()=>{
quiz_box.classList.add("activeQuiz"); //show quiz box
result_box.classList.remove("activeResult"); //hide result box
timeValue = 35; 
que_count = 0;
que_numb = 1;
userScore = 0;
widthValue = 0;
showQuetions(que_count); //calling showQestions function
queCounter(que_numb); //passing que_numb value to queCounter
clearInterval(counter); //clear counter
clearInterval(counterLine); //clear counterLine
startTimer(timeValue); //calling startTimer function
startTimerLine(widthValue); //calling startTimerLine function
timeText.textContent = "Time Left"; //change the text of timeText to Time Left
next_btn.classList.remove("show"); //hide the next button
}

// if quitQuiz button clicked
quit_quiz.onclick = ()=>{
window.location.reload(); //reload the current window
}

const next_btn = document.querySelector("footer .next_btn");
const bottom_ques_counter = document.querySelector("footer .total_que");

// if Next Que button clicked
next_btn.onclick = ()=>{
if(que_count < questions.length - 1){ //if question count is less than total question length
    que_count++; //increment the que_count value
    que_numb++; //increment the que_numb value
    showQuetions(que_count); //calling showQestions function
    queCounter(que_numb); //passing que_numb value to queCounter
    clearInterval(counter); //clear counter
    clearInterval(counterLine); //clear counterLine
    startTimer(timeValue); //calling startTimer function
    startTimerLine(widthValue); //calling startTimerLine function
    timeText.textContent = "Time Left"; //change the timeText to Time Left
    next_btn.classList.remove("show"); //hide the next button
}else{
    clearInterval(counter); //clear counter
    clearInterval(counterLine); //clear counterLine
    showResult(); //calling showResult function
}
}

// getting questions and options from array
function showQuetions(index){
const que_text = document.querySelector(".que_text");

//creating a new span and div tag for question and option and passing the value using array index
let que_tag = '<span>'+ questions[index].numb + ". " + questions[index].question +'</span>';
let option_tag = '<div class="option"><span>'+ questions[index].options[0] +'</span></div>'
+ '<div class="option"><span>'+ questions[index].options[1] +'</span></div>'
+ '<div class="option"><span>'+ questions[index].options[2] +'</span></div>'
+ '<div class="option"><span>'+ questions[index].options[3] +'</span></div>';
que_text.innerHTML = que_tag; //adding new span tag inside que_tag
option_list.innerHTML = option_tag; //adding new div tag inside option_tag

const option = option_list.querySelectorAll(".option");

// set onclick attribute to all available options
for(i=0; i < option.length; i++){
    option[i].setAttribute("onclick", "optionSelected(this)");
}
}
// creating the new div tags which for icons
let tickIconTag = '<div class="icon tick"><i class="fas fa-check"></i></div>';
let crossIconTag = '<div class="icon cross"><i class="fas fa-times"></i></div>';

//if user clicked on option
function optionSelected(answer){
clearInterval(counter); //clear counter
clearInterval(counterLine); //clear counterLine
let userAns = answer.textContent; //getting user selected option
let correcAns = questions[que_count].answer; //getting correct answer from array
const allOptions = option_list.children.length; //getting all option items

if(userAns == correcAns){ //if user selected option is equal to array's correct answer
    userScore += 1; //upgrading score value with 1
    answer.classList.add("correct"); //adding green color to correct selected option
    answer.insertAdjacentHTML("beforeend", tickIconTag); //adding tick icon to correct selected option
    console.log("Correct Answer");
    console.log("Your correct answers = " + userScore);
}else{
    answer.classList.add("incorrect"); //adding red color to correct selected option
    answer.insertAdjacentHTML("beforeend", crossIconTag); //adding cross icon to correct selected option
    console.log("Wrong Answer");

    for(i=0; i < allOptions; i++){
        if(option_list.children[i].textContent == correcAns){ //if there is an option which is matched to an array answer 
            option_list.children[i].setAttribute("class", "option correct"); //adding green color to matched option
            option_list.children[i].insertAdjacentHTML("beforeend", tickIconTag); //adding tick icon to matched option
            console.log("Auto selected correct answer.");
        }
    }
}
for(i=0; i < allOptions; i++){
    option_list.children[i].classList.add("disabled"); //once user select an option then disabled all options
}
next_btn.classList.add("show"); //show the next button if user selected any option
}

function showResult(){
info_box.classList.remove("activeInfo"); //hide info box
quiz_box.classList.remove("activeQuiz"); //hide quiz box
result_box.classList.add("activeResult"); //show result box
const scoreText = result_box.querySelector(".score_text");
if (userScore > 5){ // if user scored more than 3
    //creating a new span tag and passing the user score number and total question number
    let scoreTag = '<span>and congrats! , You got <p>'+ userScore +'</p> out of <p>'+ questions.length +'</p></span>';
    scoreText.innerHTML = scoreTag;  //adding new span tag inside score_Text
}
else if(userScore > 4){ // if user scored more than 1
    let scoreTag = '<span>and nice , You got <p>'+ userScore +'</p> out of <p>'+ questions.length +'</p></span>';
    scoreText.innerHTML = scoreTag;
}
else{ // if user scored less than 4
    let scoreTag = '<span>and sorry , You got only <p>'+ userScore +'</p> out of <p>'+ questions.length +'</p></span>';
    scoreText.innerHTML = scoreTag;
}
}

function startTimer(time){
counter = setInterval(timer, 1000);
function timer(){
    timeCount.textContent = time; //changing the value of timeCount with time value
    time--; //decrement the time value
    if(time < 9){ //if timer is less than 9
        let addZero = timeCount.textContent; 
        timeCount.textContent = "0" + addZero; //add a 0 before time value
    }
    if(time < 0){ //if timer is less than 0
        clearInterval(counter); //clear counter
        timeText.textContent = "Time Off"; //change the time text to time off
        const allOptions = option_list.children.length; //getting all option items
        let correcAns = questions[que_count].answer; //getting correct answer from array
        for(i=0; i < allOptions; i++){
            if(option_list.children[i].textContent == correcAns){ //if there is an option which is matched to an array answer
                option_list.children[i].setAttribute("class", "option correct"); //adding green color to matched option
                option_list.children[i].insertAdjacentHTML("beforeend", tickIconTag); //adding tick icon to matched option
                console.log("Time Off: Auto selected correct answer.");
            }
        }
        for(i=0; i < allOptions; i++){
            option_list.children[i].classList.add("disabled"); //once user select an option then disabled all options
        }
        next_btn.classList.add("show"); //show the next button if user selected any option
    }
}
}

function startTimerLine(time){
counterLine = setInterval(timer, 29);
function timer(){
    time += 1; //upgrading time value with 1
    time_line.style.width = time + "px"; //increasing width of time_line with px by time value
    if(time > 549){ //if time value is greater than 549
        clearInterval(counterLine); //clear counterLine
    }
}
}

function queCounter(index){
//creating a new span tag and passing the question number and total question
let totalQueCounTag = '<span><p>'+ index +'</p> of <p>'+ questions.length +'</p> Questions</span>';
bottom_ques_counter.innerHTML = totalQueCounTag;  //adding new span tag inside bottom_ques_counter
}

</script>

<script src="home.js"></script>

</body>
</html>
</html>